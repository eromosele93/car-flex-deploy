import{d as v,C as B,h as c,c as o,o as t,a as e,g as m,b as C,e as f,w as n,m as w,F as d,r as b,t as N,u as V,P as F,f as S}from"./app-BAkr0Z21.js";import{B as g}from"./Box-C9FdZjTv.js";/* empty css                  */import{_ as U}from"./MainLayout.vue_vue_type_script_setup_true_lang-EkdtY454.js";const j={class:"flex items-center gap-2 my-4"},D=["disabled"],E={key:0,class:"input-error"},I={class:"mt-4 grid grid-cols-4 gap-4"},O=["src"],P={layout:U},$=v({...P,__name:"Create",props:{buy:Object},setup(l){const y=l,s=B({images:[]}),p=c(()=>s.images.length),_=()=>{s.post(route("buy.images.store",{buy:y.buy.id}),{onSuccess:()=>s.reset("images")})},h=i=>{for(const r of i.target.files)s.images.push(r)},x=()=>s.reset("images"),u=c(()=>Object.values(s.errors));return(i,r)=>(t(),o(d,null,[r[1]||(r[1]=e("div",{class:"text-2xl font-bold text-slate-700 text-center"},"Upload Images",-1)),m(g,null,{default:n(()=>[e("form",{onSubmit:w(_,["prevent"])},[e("section",j,[e("input",{class:"border rounded-md file:px-4 file:py-2 border-gray-200 dark:border-gray-700 file:text-gray-700 file:dark:text-gray-400 file:border-0 file:bg-gray-100 file:dark:bg-gray-800 file:font-medium file:hover:bg-gray-200 file:dark:hover:bg-gray-700 file:hover:cursor-pointer file:mr-4",type:"file",multiple:"",onInput:h},null,32),e("button",{type:"submit",class:"btn-outline disabled:opacity-25 disabled:cursor-not-allowed",disabled:!p.value},"Upload",8,D),e("button",{type:"reset",class:"btn-outline",onClick:x},"Reset")]),u.value.length?(t(),o("div",E,[(t(!0),o(d,null,b(u.value,(a,k)=>(t(),o("div",{key:k},N(a),1))),128))])):f("",!0)],32)]),_:1}),l.buy.buy_images.length?(t(),C(g,{key:0,class:"mt-8"},{default:n(()=>[e("section",I,[(t(!0),o(d,null,b(l.buy.buy_images,a=>(t(),o("div",{key:a.id},[e("img",{src:a.src,class:"rounded-md"},null,8,O),m(V(F),{href:i.route("buy.images.destroy",{buy:l.buy.id,image:a.id}),method:"delete",as:"button",class:"mt-2 btn-outline text-xs w-full"},{default:n(()=>r[0]||(r[0]=[S(" Delete ")])),_:2},1032,["href"])]))),128))])]),_:1})):f("",!0)],64))}});export{$ as default};
