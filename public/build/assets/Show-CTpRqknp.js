import{h as g,p as c,d as j,i as v,c as x,o as d,g as a,a as t,w as p,t as h,b as k,e as P,k as B,v as $,u as _}from"./app-BAkr0Z21.js";import{_ as C}from"./MainLayout.vue_vue_type_script_setup_true_lang-EkdtY454.js";import{B as w}from"./Box-C9FdZjTv.js";import{_ as D,a as N}from"./CarType.vue_vue_type_script_setup_true_lang-EL7Q3CFP.js";import{_ as m}from"./Price.vue_vue_type_script_setup_true_lang-CNiJG1zG.js";import{_ as O}from"./MakeOffer.vue_vue_type_script_setup_true_lang-Cvq4SIMb.js";import{_ as R}from"./OfferMade.vue_vue_type_script_setup_true_lang-BvuJh7iz.js";const V=(e,n,o)=>{const u=g(()=>{const f=c(e)?e.value:e,r=n/100/12,s=(c(o)?o.value:o)*12;return f*r*Math.pow(1+r,s)/(Math.pow(1+r,s)-1)}),i=g(()=>(c(o)?o.value:o)*12*u.value),y=g(()=>i.value-(c(e)?e.value:e));return{monthlyPayment:u,totalPaid:i,totalInterest:y}},S={class:"flex flex-col-reverse md:grid md:grid-cols-12 gap-2"},T={key:0,class:"relative w-full"},U=["src","alt"],E={class:"absolute top-2 right-2 bg-black bg-opacity-60 text-white text-sm px-2 py-1 rounded-md"},Y={key:1,class:"text-center w-full font-medium text-gray-500"},q={class:"md:col-span-5 flex flex-col gap-4"},z={class:"md:flex gap-2"},A={class:"mt-4 md:mt-0"},F={class:"label"},G={class:"text-gray-600 mt-2 dark:text-gray-300"},H={class:"mt-2 text-gray-500 flex justify-between"},J={class:"mt-2 text-gray-500 flex justify-between"},K={class:"mt-2 text-gray-500 flex justify-between"},L={layout:C},at=j({...L,__name:"Show",props:{buy:Object,offerMade:Object},setup(e){const n=e,o=5,u=v(10),i=v(n.buy.price),{monthlyPayment:y,totalPaid:f,totalInterest:r}=V(i,o,u),s=v(0),M=()=>{n.buy.buy_images.length!==0&&(s.value=(s.value+1)%n.buy.buy_images.length)},I=()=>{n.buy.buy_images.length!==0&&(s.value=(s.value-1+n.buy.buy_images.length)%n.buy.buy_images.length)};return(Q,l)=>(d(),x("div",S,[a(w,{class:"md:col-span-7 flex items-center w-full"},{default:p(()=>[e.buy.buy_images.length?(d(),x("div",T,[t("img",{class:"rounded-md w-full object-contain",src:e.buy.buy_images[s.value].src,alt:e.buy.buy_images[s.value].alt||"Product Image"},null,8,U),t("div",E,h(s.value+1)+" / "+h(e.buy.buy_images.length),1),t("button",{class:"absolute top-1/2 left-2 transform -translate-y-1/2 bg-white text-black px-2 py-1 rounded-full shadow",onClick:I}," ‹ "),t("button",{class:"absolute top-1/2 right-2 transform -translate-y-1/2 bg-white text-black px-2 py-1 rounded-full shadow",onClick:M}," › ")])):(d(),x("div",Y,"No images"))]),_:1}),t("div",q,[a(w,null,{default:p(()=>[l[2]||(l[2]=t("div",{class:"text-xl font-bold text-slate-500 text-center mb-4"},"Description",-1)),t("div",z,[t("div",A,[a(D,{buy:e.buy,class:"text-sm"},null,8,["buy"]),a(N,{buy:e.buy,class:"text-sm"},null,8,["buy"]),a(m,{price:e.buy.price,class:"text-lg font-bold"},null,8,["price"])])])]),_:1}),a(w,null,{default:p(()=>[l[3]||(l[3]=t("div",{class:"text-xl font-bold text-slate-500 text-center mb-4"},"Monthly Payment",-1)),l[4]||(l[4]=t("label",{class:"label"}," Interest Rate: 5% per annum ",-1)),t("label",F," Duration ("+h(u.value)+" years) ",1),B(t("input",{"onUpdate:modelValue":l[0]||(l[0]=b=>u.value=b),type:"range",min:"1",max:"10",step:"1",class:"w-full h-4 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"},null,512),[[$,u.value,void 0,{number:!0}]])]),_:1}),t("div",G,[l[5]||(l[5]=t("div",{class:"text-gray-400"}," Your Monthly Repayment",-1)),a(m,{price:_(y),class:"text-3xl"},null,8,["price"])]),t("div",H,[l[6]||(l[6]=t("div",null,"Total Paid",-1)),t("div",null,[a(m,{price:_(f)},null,8,["price"])])]),t("div",J,[l[7]||(l[7]=t("div",null,"Principal Paid",-1)),t("div",null,[a(m,{price:i.value},null,8,["price"])])]),t("div",K,[l[8]||(l[8]=t("div",null,"Interest Paid",-1)),t("div",null,[a(m,{price:_(r)},null,8,["price"])])]),e.offerMade?P("",!0):(d(),k(O,{key:0,onOfferUpdated:l[1]||(l[1]=b=>i.value=b),"buy-id":e.buy.id,price:e.buy.price},null,8,["buy-id","price"])),e.offerMade?(d(),k(R,{key:1,offer:e.offerMade},null,8,["offer"])):P("",!0)])]))}});export{at as default};
